class e{static deepExtend(t,...a){if(!t)return{};for(const n of a)if(n)for(const[a,l]of Object.entries(n))switch(Object.prototype.toString.call(l)){case"[object Object]":t[a]=t[a]||{},t[a]=e.deepExtend(t[a],l);break;case"[object Array]":t[a]=e.deepExtend(new Array(l.length),l);break;default:t[a]=l}return t}static ready(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}}class t{#e=null;#t={onSubmit:e=>{e.target.submit()},onFormErrors:(e,t)=>{},renderFieldValidations:(e,t)=>{this.#a(e,t)},clearFieldValidations:e=>{this.#n(e)},validations:a,messages:n};constructor(t,a={}){if(this.#t=e.deepExtend(this.#t,a),"FORM"!==t.tagName)console.error("Given element is not of type FORM.");else{this.#e=t,this.#e.addEventListener("submit",(e=>{e.preventDefault();const t=this.#l();let a=!1;for(let e=0;e<Object.keys(t).length;e++){if(t[Object.keys(t)[e]].length>0){a=!0;break}}a?this.#t.onFormErrors(e,t):this.#t.onSubmit(e)}));const e=this.#e.querySelectorAll("input,textarea,select");for(let t=0;t<e.length;t++){const a=e[t];a.addEventListener("input",(()=>{this.#r(a)}))}}}#n(e){const t=e.parentNode.querySelector("ul.list-unstyled.text-danger");null!=t&&t.remove(),e.classList.remove("is-invalid"),e.classList.remove("is-valid")}#a(e,t){let a="";for(let e=0;e<t.length;e++)a+=`\n                <li>${t[e]}</li>\n            `;const n=document.createRange().createContextualFragment(`\n            <ul class="list-unstyled text-danger">${a}</ul>\n        `);e.after(n),e.classList.add("is-invalid")}#r(e){const t=[];this.#t.clearFieldValidations(e);const l=e.dataset;for(let r=0;r<Object.keys(a).length;r++){const s=Object.keys(a)[r];if(l.hasOwnProperty(s)){if(!a[s](this.#e,e,l[s])){const e=n[s](l[s]);t.push(e)}}}return t.length>0&&this.#t.renderFieldValidations(e,t),t}#l(){const e={},t=this.#e.querySelectorAll("input,textarea,select");for(let a=0;a<t.length;a++){const n=t[a];if(n.hasAttribute("name")){const t=this.#r(n);e[n.getAttribute("name")]=t}}return e}isValid(){const e=this.#l();for(const t in e)if(e[t].length>0)return!1;return!0}}const a={blank:(e,t,a)=>{const n=t.value;return null===n||""===n.trim()},required:(e,t,n)=>(t.value,!a.blank(e,t,n)),email:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(l)},digits:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||/^\d+$/.test(l)},number:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(l)},alphanumeric:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||/^\w+$/i.test(l)},minLength:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||l.length>=parseInt(n)},maxLength:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||l.length<=parseInt(n)},min:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||a.number(e,t,n)&&parseFloat(l)>=parseFloat(n)},max:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||a.number(e,t,n)&&parseFloat(l)<=parseFloat(n)},equalsTo:(e,t,n)=>{const l=t.value,r=e.querySelector(n).value;return a.blank(e,t,n)||l===r},notEqualsTo:(e,t,n)=>{const l=t.value,r=e.querySelector(n).value;return a.blank(e,t,n)||l!==r},creditCard:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||/ (^4[0-9]{12}(?:[0-9]{3})?$)|(^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$)|(3[47][0-9]{13})|(^3(?:0[0-5]|[68][0-9])[0-9]{11}$)|(^6(?:011|5[0-9]{2})[0-9]{12}$)|(^(?:2131|1800|35\d{3})\d{11}$)/.test(l)},postalCodeUs:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||/^\d{5}(?:[-\s]\d{4})?$/.test(l)},phoneUs:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/.test(l)},url:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/.test(l)},ipv4:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(l)},ipv6:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(l)},ip:(e,t,n)=>(t.value,a.blank(e,t,n)||a.ipv4(e,t,n)||a.ipv6(e,t,n)),date:(e,t,n)=>{const l=t.value;return a.blank(e,t,n)||"Invalid Date"!==new Date(l)&&!isNaN(new Date(l))}},n={blank:e=>"This field must be empty.",required:e=>"This field is required.",email:e=>"Please enter a valid email address.",digits:e=>"Only digits are allowed.",number:e=>"Please enter a valid number.",alphanumeric:e=>"Only letters and numbers are allowed.",minLength:e=>`Please enter at least ${e} characters.`,maxLength:e=>`Please enter no more than ${e} characters.`,min:e=>`The value must be at least ${e}.`,max:e=>`The value must be no more than ${e}.`,equalsTo:e=>"The value must match.",notEqualsTo:e=>"The value must not match.",creditCard:e=>"Please enter a valid credit card number.",postalCodeUs:e=>"Please enter a valid US postal code.",phoneUs:e=>"Please enter a valid US phone number.",url:e=>"Please enter a valid URL.",ipv4:e=>"Please enter a valid IPv4 address.",ipv6:e=>"Please enter a valid IPv6 address.",ip:e=>"Please enter a valid IP address.",date:e=>"Please enter a valid date."};export{t as default};
